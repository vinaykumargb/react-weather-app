(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(3),l=t.n(r),o=(t(8),t(1)),i=function(e){var a=e.handleClick;return c.a.createElement("header",{className:"header-container"},c.a.createElement("h2",null,"Weather app"),c.a.createElement("span",{className:"material-icons",onClick:function(e){return a(!0)}},"\uef3a"))};var s=function(){return c.a.createElement("div",{className:"loading-page"},c.a.createElement("span",null,"Loading"))};function m(e){var a=e.errCode,t=e.errMsg,n=e.setLoc,r=e.setPop;return c.a.createElement("div",{className:"error-page"},c.a.createElement("h1",{className:"error-code"},a),c.a.createElement("span",{className:"error-msg"},t),c.a.createElement("button",{type:"button",onClick:function(){n(void 0),r(!0)}},c.a.createElement("i",{className:"fas fa-arrow-left"}),"\xa0Go back"))}var u=function(e){var a=e.currData,t=e.icons;return c.a.createElement("div",{className:"current-weather"},c.a.createElement("span",{className:"addr"},a.name,", ",a.sys.country),c.a.createElement("div",{className:"temp-container"},c.a.createElement("i",{className:"wi "+t[a.weather[0].icon]}),c.a.createElement("span",{className:"real-temp"},Math.floor(a.main.temp)+"\xb0c")),c.a.createElement("span",{className:"weather-discription"},a.weather[0].description))};function d(e){var a,t=e.data;return c.a.createElement("section",{className:"weather-details"},c.a.createElement("h3",null,"Current weather details"),c.a.createElement("div",{className:"current-weather-data"},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-temperature-low"}),"\xa0Feels like:",c.a.createElement("br",null)," ",t.main.feels_like,"\xb0c"),c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-eye"}),"\xa0Visibility:",c.a.createElement("br",null)," ",t.visibility/1e3,"km"),c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-wind"}),"\xa0Wind:",c.a.createElement("br",null)," ",t.wind.speed,"m/s ",c.a.createElement("span",{style:{fontSize:"0.8em"}},(a=t.wind.deg,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(a/22.5+1)]))),c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-cloud"}),"\xa0Clouds:",c.a.createElement("br",null)," ",t.clouds.all,"%")))}var E=function(e){var a=e.data,t=e.icons,n=e.timezone;return a?c.a.createElement("ul",null,a.map((function(e,a){var r=new Date(1e3*e.dt);return c.a.createElement("li",{key:a},c.a.createElement("span",null,r.toLocaleString([],{hour:"2-digit",minute:"2-digit",timeZone:n})),c.a.createElement("i",{className:"wi "+t[e.weather[0].icon]}),c.a.createElement("span",null,e.weather[0].description),c.a.createElement("span",null,Math.floor(e.temp)+"\xb0c"))}))):null};function f(e){var a=e.coord,t=e.icons,r="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a.lat,"&lon=").concat(a.lon,"&units=metric&exclude=minutely,daily,alerts&appid=d441baed8246aee90a4a18b5d1f76fed"),l=Object(n.useState)({forecast:[],timezone:""}),i=Object(o.a)(l,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){a.lon&&fetch(r).then((function(e){return e.json()})).then((function(e){return m({forecast:e.hourly.slice(0,12),timezone:e.timezone})})).catch(console.error)}),[a,r]),c.a.createElement("section",{className:"forecast-data"},c.a.createElement("h3",null,"Hourly forecast"),c.a.createElement(E,{data:s.forecast,timezone:s.timezone,icons:t}))}function p(e){var a=e.Loc,t=e.popup,r=e.changeLoc,l=e.icons,E=e.setLoc,p=function(e){var a=Object(n.useState)(!0),t=Object(o.a)(a,2),c=t[0],r=t[1],l=Object(n.useState)(),i=Object(o.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)({code:"",msg:""}),d=Object(o.a)(u,2),E=d[0],f=d[1];return Object(n.useEffect)((function(){e&&fetch(e).then((function(e){return e.json()})).then((function(e){200!==e.cod?f({code:e.cod,msg:e.message}):m(e)})).then((function(){return r(!1)})).catch(console.log)}),[e]),{loading:c,data:s,err:E}}("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&units=metric&appid=d441baed8246aee90a4a18b5d1f76fed")),h=p.loading,w=p.data,b=p.err,N=Object(n.useState)({lon:void 0,lat:void 0}),v=Object(o.a)(N,2),y=v[0],g=v[1];return Object(n.useEffect)((function(){w&&g({lon:w.coord.lon,lat:w.coord.lat})}),[w]),h?c.a.createElement(s,null):b.code?c.a.createElement(m,{setLoc:E,setPop:r,errCode:b.code,errMsg:b.msg}):c.a.createElement("main",{className:"app-container",style:t?{}:{filter:"none",pointerEvents:"auto"}},c.a.createElement(i,{handleClick:r}),c.a.createElement(u,{currData:w,icons:l}),c.a.createElement(d,{data:w}),c.a.createElement(f,{coord:y,icons:l}))}function h(e){var a=e.onNewLocation,t=e.onClose,r=Object(n.useRef)();return c.a.createElement("form",{onSubmit:function(e){return function(e){var n=r.current;e.preventDefault(),a(n.value),t(!1),n.value=""}(e)}},c.a.createElement("label",null,"Enter your location below:"),c.a.createElement("input",{ref:r,type:"text",placeholder:"Ex: New Delhi, India",required:!0}),c.a.createElement("button",{type:"submit"},"Search"))}var w=function(e){var a=e.newLocation,t=e.show,n=e.onClose;return c.a.createElement("div",{className:"form-container",style:t?{display:"block"}:{display:"none"}},c.a.createElement(h,{onNewLocation:a,onClose:n}),c.a.createElement("div",{className:"search-options"},c.a.createElement("h4",null,"Search By -"),c.a.createElement("ul",null,c.a.createElement("li",null,"City name."),c.a.createElement("li",null,"City name, Country name/code."),c.a.createElement("li",null,"City name, State name."),c.a.createElement("li",null,"City name, State code, Country code."))))};t(9);function b(e){var a=e.icons,t=Object(n.useState)(!0),r=Object(o.a)(t,2),l=r[0],s=r[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),d=u[0],E=u[1];return c.a.createElement(n.Fragment,null,d?c.a.createElement(p,{popup:l,Loc:d,changeLoc:s,setLoc:E,icons:a}):c.a.createElement("main",{className:"app-container"},c.a.createElement(i,{handleClick:s})),c.a.createElement(w,{show:l,onClose:s,newLocation:E}))}var N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,11)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,l=a.getTTFB;t(e),n(e),c(e),r(e),l(e)}))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,{icons:{"01d":"wi-day-sunny","01n":"wi-night-clear","02d":"wi-day-cloudy","02n":"wi-night-alt-cloudy","03d":"wi-cloud","03n":"wi-cloud","04d":"wi-cloudy","04n":"wi-cloudy","09d":"wi-showers","09n":"wi-showers","10d":"wi-rain","10n":"wi-rain","11d":"wi-thunderstorm","11n":"wi-thunderstorm","13d":"wi-snowflake-cold","13n":"wi-snowflake-cold","50d":"wi-dust","50n":"wi-dust"}})),document.getElementById("root")),N()},8:function(e,a,t){},9:function(e,a,t){}},[[10,1,2]]]);
//# sourceMappingURL=main.ef022247.chunk.js.map